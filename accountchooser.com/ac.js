/* Copyright 2012 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function(){var b=void 0,g=!0,h=null,j=window,k=document;function l(a,c){return a.href=c}
var m="replace",p="sessionStorage",q="trim",r="createElement",s="setAttribute",t="documentElement",u="split",v="location",w="localStorage",x="isArray",y="slice",z="indexOf",A="proxy",B="param",C="length",D="prototype",E="clientWidth",F="document",G="body",H="call",I="clientHeight",J="",K="#",L="&",aa="', ignored!",ba="':",ca="(^|;) ?",M="/",N="//",da=":443",ea=":80",fa="; expires=",O="; path=/",P="=",ga="=([^;]*)(;|$)",ha="=; expires=",Q="?",ia="Failed to clear from DOM storage: ",ja="Failed to clear from cookie: ",
ka="Failed to read from DOM storage: ",la="Failed to read from cookie: ",ma="Failed to write to DOM storage: ",na="Failed to write to cookie: ",oa="Ignore unrecognized value for '",R="MSIE",pa="POST",qa="Parameter %%param%% cannot be an empty array.",S="Parameter %%param%% cannot be empty.",ra="Parameter %%param%% cannot be null.",sa="Parameter %%param%% is not a function.",ta="Parameter %%param%% is not an array.",ua="Unrecognized CDS helper mode :",va="Unrecognized config parameter '",wa="[object Array]",
xa="[object Function]",ya="a",za="cdshelpermode",Aa="complete",T="cookieName",U="domStorageKey",Ba="form",Ca="function",Da="head",Ea="hidden",Fa="homeurl",Ga="http:",Ha="https:",Ia="input",Ja="json",Ka="loaded",La="localStorage",Ma="loginurl",Na="mode",Oa="name",V="object",Pa="opt_cookieName",Qa="opt_domStorageKey || opt_cookieName",Ra="parentClass",Sa="post",W="script",Ta="sessionStorage",Ua="signupurl",Va="sitedisplaynameid",Wa="siteemailid",Xa="sitepasswordid",Ya="sitephotourlid",X="src",Za="storeAccount",
$a="storeaccount",ab="text/javascript",Y="type",bb="uiconfig",cb="userstatusurl",db="value",Z;j.accountchooser=j.accountchooser||{};j.cds=j.accountchooser;j.accountchooser.config=j.accountchooser.config||{};j.accountchooser.config.CdsHelperModes={LOGIN:"login",SIGNUP:"signup"};j.accountchooser.config.uiElementIds={email:"email",password:"password",name:"displayName",photo:"photoUrl"};j.accountchooser.config.loginUrl="account-login";j.accountchooser.config.signupUrl="account-create";
j.accountchooser.config.userStatusUrl="account-status";j.accountchooser.config.loginOkUrl=M;j.accountchooser.util=j.accountchooser.util||{};j.accountchooser.util.log=function(a){try{j.console&&j.console.log&&j.console.log(a)}catch(c){}};j.accountchooser.util.uuidCounter_=(new Date).getTime();j.accountchooser.util.generateUuid=function(a){return a&&a.uuid?a.uuid:++j.accountchooser.util.uuidCounter_};
j.accountchooser.util.createForm_=function(a,c,d){if(!a)throw"The targetUrl cannot be null.";var e=j[F][r](Ba);e.method=Sa;e.action=a;if(c)for(var f in c)a=j[F][r](Ia),a[s](Y,Ea),a[s](Oa,f),c[f]===h||c[f]===b?a[s](db,J):a[s](db,c[f]),e.appendChild(a);d&&(e.target=d);j[F][G].appendChild(e);return e};j.accountchooser.util.postTo=function(a,c,d){a=j.accountchooser.util.createForm_(a,c,d);a.submit();j[F][G].removeChild(a)};
j.accountchooser.util.parseUrlParams=function(a){var c={};a=a[y](a[z](Q)+1)[u](L);for(var d=0;d<a[C];d++){var e=a[d][u](P);c[e[0]]=2==e[C]?decodeURIComponent(e[1]):b}return c};j.accountchooser.util.formRedirect=function(a,c){var d=a.substring(0,a[z](Q)),e=j.accountchooser.util.parseUrlParams(a);j.accountchooser.util.postTo(d,e,c)};j.accountchooser.util.isBrowserSupported=function(){var a=999;-1!=navigator.appVersion[z](R)&&(a=parseFloat(navigator.appVersion[u](R)[1]));return 7<a};
j.accountchooser.util.makeUrl=function(a,c){var d=[],e;for(e in c)d.push(c[e]?e+P+c[e]:e);return a+Q+d.join(L)};j.accountchooser.util.AccountPropertyKey={EMAIL:"email",DISPLAY_NAME:"displayName",PHOTO_URL:"photoUrl",PROVIDER_ID:"providerId"};
j.accountchooser.util.sanitizeAccount=function(a,c){var d={},e=j.accountchooser.util.AccountPropertyKey,f;for(f in a)switch(f){case e.EMAIL:case e.DISPLAY_NAME:case e.PHOTO_URL:case e.PROVIDER_ID:d[f]=a[f];break;default:if(!c)throw'Unrecognized key "'+f+'" for account';}return d};j.accountchooser.util.sanitizeAccounts=function(a){for(var c=[],d=0,e=a[C];d<e;d++){var f=j.accountchooser.util.sanitizeAccount(a[d]);c.push(f)}return c};
j.accountchooser.util.isArray=function(a){return"undefined"!==typeof jQuery?jQuery[x](a):Object[D].toString[H](a)===wa};j.accountchooser.util.isFunction=function(a){return"undefined"!==typeof jQuery?jQuery.isFunction(a):Object[D].toString[H](a)===xa};j.accountchooser.util.indexOf=function(a,c){if(c){if("undefined"!==typeof jQuery)return jQuery.inArray(a,c);if(c[z])return c[z](a);for(var d=c[C],e=0;e<d;e++)if(e in c&&c[e]===a)return e}return-1};
j.accountchooser.util.windowWidth=function(a){if("undefined"!==typeof jQuery)return jQuery(a).width();var c=0;a.innerWidth?c=a.innerWidth:a[F]&&a[F][t]&&a[F][t][E]?c=a[F][t][E]:a[F]&&(a[F][G]&&a[F][G][E])&&(c=a[F][G][E]);return c};j.accountchooser.util.windowHeight=function(a){if("undefined"!==typeof jQuery)return jQuery(a).height();var c=0;a.innerHeight?c=a.innerHeight:a[F]&&a[F][t]&&a[F][t][I]?c=a[F][t][I]:a[F]&&(a[F][G]&&a[F][G][I])&&(c=a[F][G][I]);return c};
j.accountchooser.util.trim=function(a){return"undefined"!==typeof jQuery?jQuery[q](a):a==h?J:String[D][q]?String[D][q][H](a):a[m](/^[\s\xa0]+/,J)[m](/[\s\xa0]+$/,J)};
j.accountchooser.util.extend=function(a,c,d){if(3>arguments[C])return c||{};if("undefined"!==typeof jQuery){var e=Array[D][y][H](arguments,a?0:1);return jQuery.extend.apply(jQuery,e)}if(typeof c!==V||c==h)c={};for(var e=2,f=arguments[C];e<f;e++){var i=arguments[e];if(i!=h)for(var n in i)i[n]===b||c===i[n]||(a&&typeof i[n]==V?(j.accountchooser.util[x](i[n])&&!j.accountchooser.util[x](c[n])&&(c[n]=[]),c[n]=j.accountchooser.util.extend(g,c[n],i[n])):c[n]=i[n])}return c};j.accountchooser.param={};
j.accountchooser[B].notNull=function(a,c){(a===b||a===h)&&j.accountchooser[B].throwError_(ra,c)};j.accountchooser[B].notEmpty=function(a,c){a||j.accountchooser[B].throwError_(S,c)};j.accountchooser[B].notEmptyArray=function(a,c){a||j.accountchooser[B].throwError_(S,c);j.accountchooser.util[x](a)||j.accountchooser[B].throwError_(ta,c);a[C]||j.accountchooser[B].throwError_(qa,c)};
j.accountchooser[B].notEmptyFunction=function(a,c){a||j.accountchooser[B].throwError_(S,c);j.accountchooser.util.isFunction(a)||j.accountchooser[B].throwError_(sa,c)};j.accountchooser[B].throwError_=function(a,c){try{console&&console.trace&&console.trace()}catch(d){}throw a[m](/\%\%param\%\%/g,c?" '"+c+"'":J);};Function[D].inheritsFrom=function(a){j.accountchooser[B].notEmptyFunction(a,Ra);this.prototype=new a;this[D].constructor=this;this[D].parentClass=a[D]};
j.accountchooser.util.Storage=function(a,c,d){j.accountchooser[B].notEmpty(a||c,Qa);j.accountchooser.util.Storage.isDomStorageSupported(d)||j.accountchooser[B].notEmpty(c,Pa);this.domStorageKey_=a;this.cookieName_=c;this.perSession_=d};j.accountchooser.util.Storage.isDomStorageSupported=function(a){try{return a?Ta in j&&j[p]!=h:La in j&&j[w]!=h}catch(c){return!1}};Z=j.accountchooser.util.Storage[D];
Z.read=function(){if(j.accountchooser.util.Storage.isDomStorageSupported(this.perSession_)&&this.isDomStorageAllowed_())return this.readFromDomStorage_();if(this.isCookieStorageAllowed_())return this.readFromCookie_()};Z.write=function(a){j.accountchooser.util.Storage.isDomStorageSupported(this.perSession_)&&this.isDomStorageAllowed_()?this.writeToDomStorage_(a):this.isCookieStorageAllowed_()&&this.writeToCookie_(a)};
Z.clear=function(){j.accountchooser.util.Storage.isDomStorageSupported(this.perSession_)&&this.isDomStorageAllowed_()&&this.clearFromDomStorage_();this.isCookieStorageAllowed_()&&this.clearFromCookie_()};Z.isDomStorageAllowed_=function(){return!!this.domStorageKey_};Z.isCookieStorageAllowed_=function(){return!!this.cookieName_};
Z.readFromDomStorage_=function(){j.accountchooser[B].notEmpty(this.domStorageKey_,U);var a=this.perSession_?j[p]:j[w];try{var c=a.getItem(this.domStorageKey_);if(c)return JSON.parse(c)}catch(d){j.accountchooser.util.log(ka+d)}};Z.writeToDomStorage_=function(a){j.accountchooser[B].notEmpty(this.domStorageKey_,U);var c=this.perSession_?j[p]:j[w];try{var d=JSON.stringify(a);c.setItem(this.domStorageKey_,d)}catch(e){j.accountchooser.util.log(ma+e)}};
Z.clearFromDomStorage_=function(){j.accountchooser[B].notEmpty(this.domStorageKey_,U);var a=this.perSession_?j[p]:j[w];try{a.removeItem(this.domStorageKey_)}catch(c){j.accountchooser.util.log(ia+c)}};Z.readFromCookie_=function(){j.accountchooser[B].notEmpty(this.cookieName_,T);var a=k.cookie.match(ca+this.cookieName_+ga);if(a&&(a=j.accountchooser.util[q](a[2])))try{return JSON.parse(unescape(a))}catch(c){j.accountchooser.util.log(la+c)}};
Z.writeToCookie_=function(a){j.accountchooser[B].notEmpty(this.cookieName_,T);try{var c=new Date,d=c.getFullYear()+10,e=c.getMonth(),f=c.getDate(),i=new Date(d,e,f),n=this.perSession_?0:i.toGMTString();k.cookie=this.cookieName_+P+escape(JSON.stringify(a))+fa+n+O}catch(hb){j.accountchooser.util.log(na+hb)}};
Z.clearFromCookie_=function(){j.accountchooser[B].notEmpty(this.cookieName_,T);try{var a=new Date;a.setTime(a.getTime()-1);k.cookie=this.cookieName_+ha+a.toGMTString()+O}catch(c){j.accountchooser.util.log(ja+c)}};j.accountchooser.util.getCurrentScript=function(){if(k.currentScript)return k.currentScript;var a=k.getElementsByTagName(W);if(a[C])return a[a[C]-1]};j.accountchooser.util.getCurrentScriptContent=function(){var a=j.accountchooser.util.getCurrentScript();return j.accountchooser.util.getCleanScriptContent(a)};
j.accountchooser.util.getScriptByFilter_=function(a){if(a&&typeof a===Ca)for(var c=k.getElementsByTagName(W),d=0;d<c[C];d++)if(a(c[d]))return c[d]};j.accountchooser.util.getScriptBySrc=function(a){return j.accountchooser.util.getScriptByFilter_(function(c){return a&&c.src&&a.test(c.src)})};j.accountchooser.util.getScriptContentBySrc=function(a){a=j.accountchooser.util.getScriptBySrc(a);return j.accountchooser.util.getCleanScriptContent(a)};
j.accountchooser.util.getScriptById=function(a){return j.accountchooser.util.getScriptByFilter_(function(c){return c.id&&c.id===a&&c.src})};j.accountchooser.util.getScriptContentById=function(a){a=j.accountchooser.util.getScriptById(a);return j.accountchooser.util.getCleanScriptContent(a)};j.accountchooser.util.CLEAN_SCRIPT_REPLACE_REGEX_=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g;
j.accountchooser.util.getCleanScriptContent=function(a){return(a&&a.innerHTML||J)[m](j.accountchooser.util.CLEAN_SCRIPT_REPLACE_REGEX_,J)};j.accountchooser.loader=j.accountchooser.loader||{};j.accountchooser.loader.Loader=function(){};j.accountchooser.loader.Loader[D].load=function(a,c,d,e){var f=this;this.load_(a,d,function(){c?f.load_(c,d,e):e&&e()})};
j.accountchooser.loader.Loader[D].load_=function(a,c,d){var e=k.getElementsByTagName(Da)[0]||k[t],f=this.createResourceElement(a);this.finished_=!1;var i=this;f.onload=f.onreadystatechange=function(){if(!i.finished_&&(!this.readyState||this.readyState===Ka||this.readyState===Aa))i.finished_=g,f.onload=f.onreadystatechange=h,c&&c()};f.onerror=function(){i.finished_=g;e.removeChild(f);d&&d()};e.insertBefore(f,e.firstChild)};
j.accountchooser.loader.Loader[D].createResourceElement=function(){throw"Unimplemented! Child object must provide an implementation.";};j.accountchooser.loader.JsLoader=function(){};j.accountchooser.loader.JsLoader.inheritsFrom(j.accountchooser.loader.Loader);j.accountchooser.loader.JsLoader[D].createResourceElement=function(a){var c=k[r](W);c[s](Y,ab);c[s](X,a);return c};j.accountchooser.cdshelper=j.accountchooser.cdshelper||{};j.accountchooser.cdshelper.USER_STATUS_TIMEOUT_=1E3;
j.accountchooser.cdshelper.AbsoluteUrl=function(a,c){var d=c||j[v].href;this.url_=d;if(a){var e=k[r](ya);l(e,d);var d=e.protocol,f=e.host,i=e.pathname;e.hostname[C]>e.host[C]&&(f=e.hostname);d==Ga&&f[y](-3)==ea?f=f[y](0,-3):d==Ha&&f[y](-4)==da&&(f=f[y](0,-4));0<i[C]&&i[0]!=M&&(i=M+i);/https?:\/\//.test(a)?this.url_=a:a[0]==M?this.url_=d+N+f+a:(e=i[u](M),e[e[C]-1]=a,this.url_=d+N+f+e.join(M))}};
j.accountchooser.cdshelper.AbsoluteUrl[D].matches=function(a){if(!a)return!1;var c=this.url_[u](/\?|#/)[0];a=a.url_[u](/\?|#/)[0];return c==a};j.accountchooser.cdshelper.AbsoluteUrl[D].get=function(){return this.url_};
j.accountchooser.cdshelper.CdsHelper=function(){this.cdsClient_=j.accountchooser.CdsClient.init({callbacks:{select:jQuery[A](this.selectCallback_,this),store:jQuery[A](this.defaultCallback_,this),update:jQuery[A](this.defaultCallback_,this),empty:jQuery[A](this.emptyCallback_,this)}});this.storage_=new j.accountchooser.util.Storage(Za,b,g);this.uiElements_={email:h,password:h,name:h,photo:h};this.findUiElements_();this.detectCdsHelperMode_()};Z=j.accountchooser.cdshelper.CdsHelper[D];
Z.getStoredAccount_=function(){var a=this.storage_.read();this.storage_.clear();return a};Z.storeAccount_=function(a){this.storage_.write(a)};Z.findUiElements_=function(){for(var a in this.uiElements_){var c=j.accountchooser.config.uiElementIds[a];c&&(this.uiElements_[a]=jQuery(K+c))}};Z.isLoginMode_=function(){return j.accountchooser.config.cdsHelperMode==j.accountchooser.config.CdsHelperModes.LOGIN};Z.isSignupMode_=function(){return j.accountchooser.config.cdsHelperMode==j.accountchooser.config.CdsHelperModes.SIGNUP};
Z.isLoginPage_=function(){var a=new j.accountchooser.cdshelper.AbsoluteUrl(j[v].href),c=new j.accountchooser.cdshelper.AbsoluteUrl(j.accountchooser.config.loginUrl);return a.matches(c)};Z.isSignupPage_=function(){var a=new j.accountchooser.cdshelper.AbsoluteUrl(j[v].href),c=new j.accountchooser.cdshelper.AbsoluteUrl(j.accountchooser.config.signupUrl);return a.matches(c)};
Z.detectCdsHelperMode_=function(){if(!j.accountchooser.config.cdsHelperMode){var a=j.accountchooser.config.CdsHelperModes;if(this.isLoginPage_())j.accountchooser.config.cdsHelperMode=a.LOGIN;else if(this.isSignupPage_())j.accountchooser.config.cdsHelperMode=a.SIGNUP;else if(j[v].hash){a=j[v].hash;a[0]==K&&(a=a.substring(1));for(var a=a[u](L),c=0;c<a[C];c++){var d=a[c][u](P);if(2==d[C]&&d[0].toLowerCase()==za){j.accountchooser.config.setMode(d[1],d[0]);break}}}}};
Z.checkUserStatus_=function(a,c){var d={email:a.email};a.displayName&&(d.displayName=a.displayName);a.photoUrl&&(d.photoUrl=a.photoUrl);a.providerId&&(d.providerId=a.providerId);jQuery.ajax({type:pa,cache:!1,url:j.accountchooser.config.userStatusUrl,data:d,dataType:Ja,timeout:j.accountchooser.cdshelper.USER_STATUS_TIMEOUT_,success:function(a){c(a?a:{registered:g})},error:function(){c({registered:g})}})};
Z.prefill_=function(a){this.uiElements_.email&&this.uiElements_.email.val(a.email);this.uiElements_.name&&this.uiElements_.name.val(a.displayName);this.uiElements_.photo&&this.uiElements_.photo.val(a.photoUrl);this.uiElements_.password&&this.uiElements_.password.focus()};
Z.redirect_=function(a,c){this.storeAccount_(a);switch(c){case j.accountchooser.config.CdsHelperModes.LOGIN:l(j[v],j.accountchooser.config.loginUrl);break;case j.accountchooser.config.CdsHelperModes.SIGNUP:l(j[v],j.accountchooser.config.signupUrl);break;default:j.accountchooser.util.log(ua+c)}};
Z.selectCallback_=function(a){var c=a&&a.account;if(c&&c.email){var d=this;this.checkUserStatus_(c,function(a){a.authUri?2048>a.authUri[C]?l(j[v],a.authUri):j.accountchooser.util.formRedirect(a.authUri):(a=a.registered?j.accountchooser.config.CdsHelperModes.LOGIN:j.accountchooser.config.CdsHelperModes.SIGNUP,a==j.accountchooser.config.cdsHelperMode?d.prefill_(c):d.redirect_(c,a))})}else this.uiElements_.email.focus()};Z.defaultCallback_=function(){this.isLoginMode_()&&this.emptyCallback_()};
Z.emptyCallback_=function(){j.accountchooser.config.storedAccount&&(this.storeAccountToCds(j.accountchooser.config.storedAccount),j.accountchooser.config.storedAccount=b);if(this.isLoginMode_()||this.isSignupMode_()){var a=this.getStoredAccount_();a?this.prefill_(a):this.isLoginMode_()&&this.selectAccountFromCds()}};
Z.selectAccountFromCds=function(){var a=this;this.cdsClient_.checkCdsEmpty(function(c,d){!c||d?a.cdsClient_.select(h,{ui:j.accountchooser.config.cdsUiConfig,language:j.accountchooser.config.language}):a.selectCallback_()})};
Z.storeAccountToCds=function(a){var c=new j.accountchooser.cdshelper.AbsoluteUrl(j.accountchooser.config.loginOkUrl),d=this;this.cdsClient_.checkAccountExist(a,function(e,f){if(!e||f){var i={clientCallbackUrl:c.get(),language:j.accountchooser.config.language};d.cdsClient_.store([a],i)}else l(j[v],c.get())})};
Z.updateAccountToCds=function(a){var c=new j.accountchooser.cdshelper.AbsoluteUrl(j.accountchooser.config.loginOkUrl),d=this;this.cdsClient_.checkAccountExist(a,function(e,f){if(e||f){var i={clientCallbackUrl:c.get(),language:j.accountchooser.config.language};d.cdsClient_.update(a,i)}else l(j[v],c.get())})};
j.accountchooser.initAccountChooser=function(a){j.accountchooser.cdshelper.INSTANCE_||(j.accountchooser.setConfig(a||{}),j.accountchooser.cdshelper.INSTANCE_=new j.accountchooser.cdshelper.CdsHelper);return j.accountchooser.cdshelper.INSTANCE_};
j.accountchooser.config.setConfig=function(a){if(a)for(var c in a){var d=a[c];switch(c.toLowerCase()){case Fa:j.accountchooser.config.setWidgetHomeUrl(d,c);break;case Ma:j.accountchooser.config.setWidgetLoginUrl(d,c);break;case Ua:j.accountchooser.config.setWidgetSignupUrl(d,c);break;case cb:j.accountchooser.config.setWidgetUserStatusUrl(d,c);break;case bb:j.accountchooser.config.setCdsUiConfig(d,c);break;case Wa:j.accountchooser.config.setSiteEmailId(d,c);break;case Xa:j.accountchooser.config.setSitePasswordId(d,
c);break;case Va:j.accountchooser.config.setSiteDisplayNameId(d,c);break;case Ya:j.accountchooser.config.setSitePhotoUrlId(d,c);break;case Na:j.accountchooser.config.setMode(d,c);break;case $a:j.accountchooser.config.setStoredAccount(d,c);break;default:j.accountchooser.config.logUnrecognizedConfig_(c)}}};j.accountchooser.config.logUnrecognizedConfig_=function(a){j.accountchooser.util&&j.accountchooser.util.log&&j.accountchooser.util.log(va+a+aa)};
j.accountchooser.config.setWidgetHomeUrl=function(a,c){j.accountchooser[B].notEmpty(a,c);j.accountchooser.config.loginOkUrl=a};j.accountchooser.config.setWidgetLoginUrl=function(a,c){j.accountchooser[B].notEmpty(a,c);j.accountchooser.config.loginUrl=a};j.accountchooser.config.setWidgetSignupUrl=function(a){j.accountchooser.config.signupUrl=a};j.accountchooser.config.setWidgetUserStatusUrl=function(a){j.accountchooser.config.userStatusUrl=a};
j.accountchooser.config.setCdsUiConfig=function(a){j.accountchooser.config.cdsUiConfig=a};j.accountchooser.config.setSiteEmailId=function(a,c){j.accountchooser[B].notEmpty(a,c);j.accountchooser.config.uiElementIds.email=a};j.accountchooser.config.setSitePasswordId=function(a){j.accountchooser.config.uiElementIds.password=a};j.accountchooser.config.setSiteDisplayNameId=function(a){j.accountchooser.config.uiElementIds.name=a};
j.accountchooser.config.setSitePhotoUrlId=function(a){j.accountchooser.config.uiElementIds.photo=a};j.accountchooser.config.setMode=function(a,c){var d=j.accountchooser.config.CdsHelperModes,e;for(e in d)if(d[e]==String(a).toLowerCase()){j.accountchooser.config.cdsHelperMode=d[e];return}j.accountchooser.util.log(oa+c+ba+a)};j.accountchooser.config.setStoredAccount=function(a){j.accountchooser.config.storedAccount=a};j.accountchooser.setConfig=function(a){j.accountchooser.config.setConfig(a)};
j.accountchooser.cdshelper.initTemplate_='<script type="text/javascript">\n(function() {\nvar loader = new window.accountchooser.loader.JsLoader();\nfunction onAllLoaded() {\n  jQuery(function() {\n    window.accountchooser.initAccountChooser({\n      %%CONFIG%%\n    });\n  });\n}\nfunction loadCdsClient() {\n  if (window.accountchooser.CdsClient) {\n    onAllLoaded();\n    return;\n  }\n  var url = "https://www.accountchooser.com/client.js";\n  loader.load(url, undefined, onAllLoaded);\n}\nfunction loadJQuery() {\n  if (typeof jQuery !== "undefined") {\n    loadCdsClient();\n    return;\n  }\n  var url = "https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js";\n  loader.load(url, undefined, loadCdsClient);\n}\nloadJQuery();\n})();\n<\/script>\n';
a:{var eb=j.accountchooser.util.getCurrentScript(),fb=eb.getAttribute(X),gb=fb[z](K);if(-1<gb){var ib=fb.substring(gb+1);if(/(^|&)no-auto-init(&|$)/.test(ib))break a}var jb=j.accountchooser.util.getCleanScriptContent(eb)||J,kb=j.accountchooser.cdshelper.initTemplate_[m](/\%\%CONFIG\%\%/,jb);k.write(kb)};})()
