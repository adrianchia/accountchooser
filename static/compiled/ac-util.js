(function(){var b=null,g=!1,h=window,j=document,k=JSON,l="trim",n="setAttribute",o="documentElement",p="localStorage",q="displayName",r="isArray",s="stringify",t="indexOf",u="param",v="length",w="prototype",x="clientWidth",y="document",z="body",A="call",B="clientHeight",C="",D="&",E="(^|;) ?",F="; Path=/; expires=",G="=",H="=([^;]*)(;|$)",I="=; Path=/; expires=",J="?",K="Clear CDS browser config.",L="Failed to clear from cookie: ",M="Failed to clear from localStorage: ",N="Failed to read from cookie: ",O="Failed to read from localStorage: ",
P="Failed to write to cookie: ",Q="Failed to write to localStorage: ",aa="Get CDS browser config: ",R="MSIE",ba="Parameter %%param%% cannot be an empty array.",S="Parameter %%param%% cannot be empty.",ca="Parameter %%param%% cannot be null.",da="Parameter %%param%% is not a function.",ea="Parameter %%param%% is not an array.",fa="Read saved accounts from storage: ",ga="Save accounts to storage: ",ha="Set CDS browser config: ",ia="[object Array]",ja="[object Function]",T="chooserAccounts",U="cookieName",
V="disabled",ka="form",la="hidden",ma="input",na="localStorage",W="localStorageKey",oa="name",X="object",pa="opt_cookieName",qa="opt_localStorageKey || opt_cookieName",ra="parentClass",sa="post",ta="type",Y="value",Z;h.accountchooser=h.accountchooser||{};h.cds=h.accountchooser;h.accountchooser.util=h.accountchooser.util||{};h.accountchooser.util.log=function(a){try{h.console&&h.console.log&&h.console.log(a)}catch(c){}};h.accountchooser.util.uuidCounter_=(new Date).getTime();
h.accountchooser.util.generateUuid=function(a){return a&&a.uuid?a.uuid:++h.accountchooser.util.uuidCounter_};h.accountchooser.util.createForm_=function(a,c,e){if(!a)throw"The targetUrl cannot be null.";var d=h[y].createElement(ka);d.method=sa;d.action=a;if(c)for(var f in c)a=h[y].createElement(ma),a[n](ta,la),a[n](oa,f),c[f]===b||void 0===c[f]?a[n](Y,C):a[n](Y,c[f]),d.appendChild(a);e&&(d.target=e);h[y][z].appendChild(d);return d};
h.accountchooser.util.postTo=function(a,c,e){a=h.accountchooser.util.createForm_(a,c,e);a.submit();h[y][z].removeChild(a)};h.accountchooser.util.parseUrlParams=function(a){for(var c={},a=a.slice(a[t](J)+1).split(D),e=0;e<a[v];e++){var d=a[e].split(G);c[d[0]]=2==d[v]?decodeURIComponent(d[1]):void 0}return c};h.accountchooser.util.formRedirect=function(a,c){var e=a.substring(0,a[t](J)),d=h.accountchooser.util.parseUrlParams(a);h.accountchooser.util.postTo(e,d,c)};
h.accountchooser.util.isBrowserSupported=function(){var a=999;-1!=navigator.appVersion[t](R)&&(a=parseFloat(navigator.appVersion.split(R)[1]));return 7<a};h.accountchooser.util.makeUrl=function(a,c){var e=[],d;for(d in c)e.push(c[d]?d+G+c[d]:d);return a+J+e.join(D)};h.accountchooser.util.isArray=function(a){return"undefined"!==typeof jQuery?jQuery[r](a):Object[w].toString[A](a)===ia};
h.accountchooser.util.isFunction=function(a){return"undefined"!==typeof jQuery?jQuery.isFunction(a):Object[w].toString[A](a)===ja};h.accountchooser.util.indexOf=function(a,c){if(c){if("undefined"!==typeof jQuery)return jQuery.inArray(a,c);if(c[t])return c[t](a);for(var e=c[v],d=0;d<e;d++)if(d in c&&c[d]===a)return d}return-1};
h.accountchooser.util.windowWidth=function(a){if("undefined"!==typeof jQuery)return jQuery(a).width();var c=0;a.innerWidth?c=a.innerWidth:a[y]&&a[y][o]&&a[y][o][x]?c=a[y][o][x]:a[y]&&(a[y][z]&&a[y][z][x])&&(c=a[y][z][x]);return c};h.accountchooser.util.windowHeight=function(a){if("undefined"!==typeof jQuery)return jQuery(a).height();var c=0;a.innerHeight?c=a.innerHeight:a[y]&&a[y][o]&&a[y][o][B]?c=a[y][o][B]:a[y]&&(a[y][z]&&a[y][z][B])&&(c=a[y][z][B]);return c};
h.accountchooser.util.trim=function(a){return"undefined"!==typeof jQuery?jQuery[l](a):a==b?C:String[w][l]?String[w][l][A](a):a.replace(/^[\s\xa0]+/,C).replace(/[\s\xa0]+$/,C)};
h.accountchooser.util.extend=function(a,c,e){if(3>arguments[v])return c||{};if("undefined"!==typeof jQuery){var d=Array[w].slice[A](arguments,a?0:1);return jQuery.extend.apply(jQuery,d)}if(typeof c!==X||c==b)c={};for(var d=2,f=arguments[v];d<f;d++){var m=arguments[d];if(m!=b)for(var i in m)void 0===m[i]||c===m[i]||(a&&typeof m[i]==X?(h.accountchooser.util[r](m[i])&&!h.accountchooser.util[r](c[i])&&(c[i]=[]),c[i]=h.accountchooser.util.extend(!0,c[i],m[i])):c[i]=m[i])}return c};
h.accountchooser.param={};h.accountchooser[u].notNull=function(a,c){(void 0===a||a===b)&&h.accountchooser[u].throwError_(ca,c)};h.accountchooser[u].notEmpty=function(a,c){a||h.accountchooser[u].throwError_(S,c)};h.accountchooser[u].notEmptyArray=function(a,c){a||h.accountchooser[u].throwError_(S,c);h.accountchooser.util[r](a)||h.accountchooser[u].throwError_(ea,c);a[v]||h.accountchooser[u].throwError_(ba,c)};
h.accountchooser[u].notEmptyFunction=function(a,c){a||h.accountchooser[u].throwError_(S,c);h.accountchooser.util.isFunction(a)||h.accountchooser[u].throwError_(da,c)};h.accountchooser[u].throwError_=function(a,c){try{console&&console.trace&&console.trace()}catch(e){}throw a.replace(/\%\%param\%\%/g,c?" '"+c+"'":C);};Function[w].inheritsFrom=function(a){h.accountchooser[u].notEmptyFunction(a,ra);this.prototype=new a;this[w].constructor=this;this[w].parentClass=a[w]};
h.accountchooser.util.Storage=function(a,c){h.accountchooser[u].notEmpty(a||c,qa);h.accountchooser.util.Storage.isLocalStorageSupported()||h.accountchooser[u].notEmpty(c,pa);this.localStorageKey_=a;this.cookieName_=c};h.accountchooser.util.Storage.isLocalStorageSupported=function(){try{return na in h&&h[p]!==b}catch(a){return g}};Z=h.accountchooser.util.Storage[w];
Z.read=function(){if(h.accountchooser.util.Storage.isLocalStorageSupported()&&this.isLocalStorageAllowed_())return this.readFromLocalStorage_();if(this.isCookieStorageAllowed_())return this.readFromCookie_()};Z.write=function(a){h.accountchooser.util.Storage.isLocalStorageSupported()&&this.isLocalStorageAllowed_()?this.writeToLocalStorage_(a):this.isCookieStorageAllowed_()&&this.writeToCookie_(a)};
Z.clear=function(){h.accountchooser.util.Storage.isLocalStorageSupported()&&this.isLocalStorageAllowed_()&&this.clearFromLocalStorage_();this.isCookieStorageAllowed_()&&this.clearFromCookie_()};Z.isLocalStorageAllowed_=function(){return!!this.localStorageKey_};Z.isCookieStorageAllowed_=function(){return!!this.cookieName_};
Z.readFromLocalStorage_=function(){h.accountchooser[u].notEmpty(this.localStorageKey_,W);try{var a=h[p].getItem(this.localStorageKey_);if(a)return k.parse(a)}catch(c){h.accountchooser.util.log(O+c)}};Z.writeToLocalStorage_=function(a){h.accountchooser[u].notEmpty(this.localStorageKey_,W);try{var c=k[s](a);h[p].setItem(this.localStorageKey_,c)}catch(e){h.accountchooser.util.log(Q+e)}};
Z.clearFromLocalStorage_=function(){h.accountchooser[u].notEmpty(this.localStorageKey_,W);try{h[p].removeItem(this.localStorageKey_)}catch(a){h.accountchooser.util.log(M+a)}};Z.readFromCookie_=function(){h.accountchooser[u].notEmpty(this.cookieName_,U);var a=j.cookie.match(E+this.cookieName_+H);if(a&&(a=h.accountchooser.util[l](a[2])))try{return k.parse(unescape(a))}catch(c){h.accountchooser.util.log(N+c)}};
Z.writeToCookie_=function(a){h.accountchooser[u].notEmpty(this.cookieName_,U);try{var c=new Date,e=c.getFullYear()+10,d=c.getMonth(),f=c.getDate(),m=new Date(e,d,f);j.cookie=this.cookieName_+G+escape(k[s](a))+F+m.toGMTString()}catch(i){h.accountchooser.util.log(P+i)}};Z.clearFromCookie_=function(){h.accountchooser[u].notEmpty(this.cookieName_,U);try{var a=new Date;a.setTime(a.getTime()-1);j.cookie=this.cookieName_+I+a.toGMTString()}catch(c){h.accountchooser.util.log(L+c)}};
h.accountchooser.util.accountstorage={};h.accountchooser.util.accountstorage.ACCOUNTS_=T;h.accountchooser.util.accountstorage.AC_COOKIE_NAME_="__goog__ac__";h.accountchooser.util.accountstorage.storage_=new h.accountchooser.util.Storage(h.accountchooser.util.accountstorage.ACCOUNTS_,h.accountchooser.util.accountstorage.AC_COOKIE_NAME_);h.accountchooser.util.accountstorage.read_=function(){var a=h.accountchooser.util.accountstorage.storage_.read();h.accountchooser.util.log(fa+k[s](a));return a};
h.accountchooser.util.accountstorage.write_=function(a){h.accountchooser.util.log(ga+k[s](a));h.accountchooser.util.accountstorage.storage_.write(a)};h.accountchooser.util.accountstorage.readAccounts=function(){var a=h.accountchooser.util.accountstorage.read_();if(!a||!h.accountchooser.util[r](a))a=[];return a};
h.accountchooser.util.accountstorage.addAccount=function(a){if(!a||!a.email)return g;for(var c=g,e=h.accountchooser.util.accountstorage.readAccounts(),d,f=0;f<e[v];f++)if(h.accountchooser.util.accountstorage.matchAccount_(e[f],a.email,a.providerId)){d=e[f];e.splice(f,1);c=!0;break}if(d&&(!a[q]&&d[q]&&(a.displayName=d[q]),!a.photoUrl&&d.photoUrl))a.photoUrl=d.photoUrl;e.unshift(a);h.accountchooser.util.accountstorage.write_(e);return!c};
h.accountchooser.util.accountstorage.removeAccount=function(a){if(!a||!a.email)return g;for(var c=g,e=h.accountchooser.util.accountstorage.readAccounts(),d=0;d<e[v];d++)if(h.accountchooser.util.accountstorage.matchAccount_(e[d],a.email,a.providerId)){e.splice(d,1);c=!0;break}h.accountchooser.util.accountstorage.write_(e);return c};h.accountchooser.util.accountstorage.clearAccounts=function(){h.accountchooser.util.accountstorage.storage_.clear()};
h.accountchooser.util.accountstorage.updateAccount=function(a,c,e){if(a)for(var d=h.accountchooser.util.accountstorage.readAccounts(),f=0;f<d[v];f++)if(h.accountchooser.util.accountstorage.matchAccount_(d[f],a,e)){c(d[f]);h.accountchooser.util.accountstorage.write_(d);break}};
h.accountchooser.util.accountstorage.refreshAccount=function(a){a&&a.email&&h.accountchooser.util.accountstorage.updateAccount(a.email,function(c){a[q]&&(c.displayName=a[q]);a.photoUrl&&(c.photoUrl=a.photoUrl);void 0!=a.legacy&&(c.legacy=a.legacy)})};
h.accountchooser.util.accountstorage.fetchAccount=function(a,c){if(a)for(var e=h.accountchooser.util.accountstorage.readAccounts(),d=0;d<e[v];d++)if(h.accountchooser.util.accountstorage.matchAccount_(e[d],a,c)){var f=e[d];e.splice(d,1);e.unshift(f);h.accountchooser.util.accountstorage.write_(e);return f}};h.accountchooser.util.accountstorage.matchAccount_=function(a,c,e){return a.email!=c?g:a.providerId&&e&&a.providerId==e||!a.providerId&&!e?!0:g};h.accountchooser.updateSavedAccount=function(a){h.accountchooser.util.accountstorage.addAccount(a)};
h.accountchooser.removeSavedAccount=function(a){return h.accountchooser.util.accountstorage.removeAccount(a)};h.accountchooser.clearSavedAccounts=function(){h.accountchooser.util.accountstorage.clearAccounts()};h.accountchooser.util.accountstorage.ACCOUNTS_=T;h.accountchooser.util.accountstorage.AC_COOKIE_NAME_="__cds__ac__";h.accountchooser.util.accountstorage.storage_=new h.accountchooser.util.Storage(h.accountchooser.util.accountstorage.ACCOUNTS_,h.accountchooser.util.accountstorage.AC_COOKIE_NAME_);
h.accountchooser.util.accountstorage.readAccounts=function(a){var c=h.accountchooser.util.accountstorage.read_();if(!c||!h.accountchooser.util[r](c))c=[];if(!a)return c;if(a.withEmail)var e=function(a){return h.accountchooser.util.isValidEmail(a.email)},c=h.accountchooser.util.accountstorage.filter_(c,e);a.idpList&&0!=a.idpList[v]&&(e=function(c){return(c=c.providerId||h.accountchooser.util.getEmailDomain(c.email))?0<=h.accountchooser.util[t](c,a.idpList):g},c=h.accountchooser.util.accountstorage.filter_(c,
e));return c};h.accountchooser.util.accountstorage.filter_=function(a,c){for(var e=[],d=0;d<a[v];d++)c(a[d])&&e.push(a[d]);return e};h.accountchooser.util.browserconfig={};h.accountchooser.util.browserconfig.SETTINGS_KEY_="cdsSettings";h.accountchooser.util.browserconfig.COOKIE_NAME_="__cds__settings__";h.accountchooser.util.browserconfig.storage_=new h.accountchooser.util.Storage(h.accountchooser.util.browserconfig.SETTINGS_KEY_,h.accountchooser.util.browserconfig.COOKIE_NAME_);
h.accountchooser.util.browserconfig.getAll=function(){var a=h.accountchooser.util.browserconfig.storage_.read()||{};h.accountchooser.util.log(aa+k[s](a));return a};h.accountchooser.util.browserconfig.setAll=function(a){h.accountchooser.util.log(ha+k[s](a));h.accountchooser.util.browserconfig.storage_.write(a)};h.accountchooser.util.browserconfig.clearAll=function(){h.accountchooser.util.log(K);h.accountchooser.util.browserconfig.storage_.clear()};h.accountchooser.util.browserconfig.get=function(a){return h.accountchooser.util.browserconfig.getAll()[a]};
h.accountchooser.util.browserconfig.set=function(a,c){var e=h.accountchooser.util.browserconfig.getAll();e[a]=c;h.accountchooser.util.browserconfig.setAll(e)};h.accountchooser.util.browserconfig.clear=function(a){var c=h.accountchooser.util.browserconfig.getAll();delete c[a];h.accountchooser.util.browserconfig.setAll(c)};h.accountchooser.util.browserconfig.isDisabled=function(){return!!h.accountchooser.util.browserconfig.get(V)};
h.accountchooser.util.browserconfig.setDisabled=function(a){h.accountchooser.util.browserconfig.set(V,!!a)};})()
